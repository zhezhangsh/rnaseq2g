ms <- x[[2]]
ms
DeRNAseqMs <- x[[4]]
DeRNAseqMs[1:2, ]
nm <- sapply(ms, function(x) rownames(DeRNAseqMs)[DeRNAseqMs[, 1]==x]);
nm
ms
names(nm)
length(res)
shiny::runApp()
ms
nm
ms
nm
sapply(ms, function(x) rownames(DeRNAseqMs)[DeRNAseqMs[, 1]==x]);
ms
nm <- sapply(ms, function(x) rownames(DeRNAseqMs)[DeRNAseqMs[, 1]==x][1]);
nm
rownames(DeRNAseqMs)
DeRNAseqMs[, 1]
nm
nm <- sapply(ms, function(x) rownames(DeRNAseqMs)[DeRNAseqMs[, 1]==x][1]);
nm
nm <- sapply(ms[1], function(x) rownames(DeRNAseqMs)[DeRNAseqMs[, 1]==x][1]);
nm
ms
nm <- sapply(ms, function(x) as.vector(rownames(DeRNAseqMs)[DeRNAseqMs[, 1]==x]));
nm
nm <- lapply(ms, function(x) as.vector(rownames(DeRNAseqMs)[DeRNAseqMs[, 1]==x]));
nm
?sapply
c1 <- rownames(DeRNAseqMs);
names(c1) <- as.vector(DeRNAseqMs[, 1]);
c1
c1 <- rownames(DeRNAseqMs);
names(c1) <- as.vector(DeRNAseqMs[, 1]);
nm <- c1[ms];
nm
c1
ms
shiny::runApp()
names(rs)
names(rs[[2]])
pv <- sapply(rs[[2]][ms], function(x) x[, 5]);
pc <- CombinePvalue(pv, input$meta.select.method, normalize = input$meta.normalize.p);
c <- CombinePvalue(pv)
c <- CombinePvalue(pv)
install_github('zhezhangsh/DEGandMore')
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
q()
shiny::runApp()
shiny::runApp()
dir()
ms <- readRDS('ms.rds')
ms
nm <- rownames(DeRNAseqMs)[DeRNAseqMs[, 1] %in% ms];
nm
shiny::runApp()
shiny::runApp()
shiny::runApp()
dir()
pv <- readRDS('pv.rds')
dim(pv)
head(pv)
file.remove('pv.rds')
shiny::runApp()
pv <- readRDS('pv.rds')
length(pv)
pv[[1]]
pv[[2]]
rs <- pv[[4]]
length(rs)
names(rs)
names(rs[[2]])
shiny::runApp()
shiny::runApp()
file.remove('pv.rds')
install_github('zhezhangsh/awsomicsR')
shiny::runApp()
install_github('zhezhangsh/awsomicsR')
shiny::runApp()
install_github('zhezhangsh/awsomicsR')
shiny::runApp()
install_github('zhezhangsh/awsomicsR')
shiny::runApp()
q()
install_github('zhezhangsh/awsomicsR')
devtools::install_github('zhezhangsh/awsomicsR')
shiny::runApp()
shiny::runApp()
setwd("/srv/shiny-server/project")
q()
setwd("/srv/shiny-server/project/mito1")
dir('gesa')
dir('gsea')
dir('kegg')
require(shiny)
runApp()
require(plotly);
require(RoCA);
require(awsomics);
require(shinythemes);
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
nes <- readRDS('kegg/gsea_nes.rds');
pvl <- readRDS('kegg/gsea_pv.rds');
nes[1:2, ]
runApp()
runApp()
runApp()
runApp()
nes[1:2, ]
cnm <- colnames(nes)
nes <- data.frame(nes)
nes[1:2, ]
cnm
colnames(nes) <- cnm
nes[1:2, ]
saveRDS(nes, 'kegg/gsea_nes.rds')
colnames(pvl) <- cnm
saveRDS(pvl, 'kegg/gsea_pv.rds')
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
tb1 <- data.frame(ID=rownames(ann), ann, nes);
tb1[1:2, ]
tb1 <- cbind(ID=rownames(ann), ann, nes);
tb1[1:2, ]
tb1 <- cbind(ID=rownames(ann), ann, round(nes, 3));
tb2 <- cbind(ID=rownames(ann), ann, round(pvl, 4));
tb1[1:2, ]
tb2[1:2, ]
runApp()
runApp()
ann <- readRDS('kegg/anno.rds');
nes <- readRDS('kegg/gsea_nes.rds');
pvl <- readRDS('kegg/gsea_pv.rds');
tb1 <- cbind(ID=rownames(ann), ann, round(nes, 4));
tb2 <- cbind(ID=rownames(ann), ann, round(pvl, 4));
tb1[[1]] <- AddHref(tb1, paste('http://www.genome.jp/kegg-bin/show_pathway?', tb1[[1]], sep=''));
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
cmp <- dir('kegg/map/');
cmp
cmp <- cmp[c(19, 4:17, 1, 2, 18, 3)]
cmp
x <- 1:length(cmp)
names(x) <- cmp
x
x <- as.list(x)
saveRDS(x, 'comparison.rds')
x
cmp <- readRDS('comparison.rds');
runApp()
runApp()
runApp()
a <- ann[[1]]
a
b <- rownames(ann)
b
names(b) <- a
b <- sort(b)
b
names(b) <- paste(b, names(b), sep=': ')
saveRDS(b, 'pathway.rds')
pth <- readRDS('pathway.rds');
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
data <- data.frame(ID=rownames(nes)[1:10], NES=nes[1:10, 10]);
plot_ly(data, x=~ID, y=~NES, type = 'bar', name = colnames(nes));
runApp()
setwd("/srv/shiny-server/project/mito1")
runApp()
runApp()
runApp()
runApp()
plotly_empty(type='scatter', mode='markers');
plotly_empty(type='bar');
nes[1:2, ]
class(nes)
runApp()
runApp()
nes[1:2, ]
data <- nes[, 1:2]
data <- nes[1:10, 1:2]
data <- cbind(data, ID=rownames(data));
data
class(data)
runApp()
runApp()
runApp()
cmp
nes[1:2, ]
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
nes[1:2, ]
nes <- round(nes, 4)
pvl
runApp()
runApp()
data <- nes
class(data)
x <- t(data)
class(x)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
ann[1:2, ]
runApp()
runApp()
runApp()
max(nes)
min(nes)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
x <- c('font', 'title', 'titlefont', 'autosize', 'width', 'height', 'margin', 'paper_bgcolor', 'plot_bgcolor', 'separators', 'hidesources', 'smith', 'showlegend', 'dragmode', 'hovermode', 'xaxis', 'yaxis', 'scene', 'geo', 'legend', 'annotations', 'shapes', 'images', 'updatemenus', 'ternary', 'mapbox', 'radialaxis', 'angularaxis', 'direction', 'orientation', 'barmode', 'bargap', 'mapType')
x
x[grep('gap', x)]
runApp()
runApp()
runApp()
runApp()
runApp()
?renderImage
setwd("/srv/shiny-server/project/mito1/kegg/map/N2-vs-Gas1")
dir()[1]
runApp()
setwd('../..')
dir()
setwd('..')
dir()
runApp()
runApp()
runApp()
runApp()
runApp()
args(selectizeInput)
?selectizeInput
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
cmp[1:2]
runApp()
cmp
c(''='0', cmp)
list(''='0', cmp)
cmp
cmp[1:2]
list(''='0', cmp)[1:3]
cmp
c(''='0', cmp)
list(''='0', cmp)
cmp[[20]]
c(0, cmp)
cmp0 <- c(0, cmp)
names(cmp0) <- ''
cmp0[1:3]
cmp0 <- c(0, cmp)
names(cmp0)[1] <- ''
cmp0[1:3]
names(cmp0)
saveRDS(cmp0, 'comparison0.rds')
pth <- c('0', pth)
pth
pth[1:2]
names(pth)[1] <- ''
names(pth)[1:4]
length(pth)
saveRDS(pth, 'pathway0.rds')
cmp <- readRDS('comparison.rds');
pth <- readRDS('pathway.rds');
cmp0 <- readRDS('comparison0.rds');
pth0 <- readRDS('pathway0.rds');
runApp()
runApp()
pth0[1:3]
pth0[[1]]
pth0[[1]] <- ''
saveRDS(pth0, 'pathway0.rds')
pth0[1:2]
cmp0[[1]]
cmp0[[1]] <- ''
saveRDS(cmp0, 'comparison0.rds')
cmp <- readRDS('comparison.rds');
pth <- readRDS('pathway.rds');
cmp0 <- readRDS('comparison0.rds');
pth0 <- readRDS('pathway0.rds');
runApp()
runApp()
runApp()
runApp()
cmp
runApp()
cmp0[[1]]
names(cmp0)[1:2]
runApp()
runApp()
cmp[[2]]
runApp()
cmp
nm <- names(cmp)[as.integer(c)];
c <- '4'
c
nm <- names(cmp)[as.integer(c)];
nm
dir()
dir('kegg/map', nm, sep='/')
paste('kegg/map', nm, sep='/')
dir(paste('kegg/map', nm, sep='/'))
nm <- names(cmp)[as.integer(c)];
dr <- paste('kegg/map', nm, sep='/');
fn <- dir(dr);
fn[1:2]
id <- sub('.pathview.png', '', fn);
id
pth[1:2]
length(pth)
pth[1:10]
class(pth)
class(pth0)
pth <- readRDS('pathway.rds');
pth[1:2]
cmp
pth <- as.list(pth)
pth[1:2]
x <- names(pth)
sub('_$', '', x)->x
x[1:2]
names(pth) <- x
saveRDS(pth, 'pathway.rds')
pth0[1:2]
pht0 <- as.list(pth0)
pth0[1:2]
saveRDS(pth0, 'pathway0.rds')
nm <- names(cmp)[as.integer(c)];
dr <- paste('kegg/map', nm, sep='/');
fn <- dir(dr);
id <- sub('.pathview.png', '', fn);
id
id <- toupper(sub('.pathview.png', '', fn));
id
ph <- names(pth);
names(ph) <- unlist(pth);
ph[1:2]
pth[1:2]
cmp[1:2]
nm <- names(cmp)[as.integer(c)];
dr <- paste('kegg/map', nm, sep='/');
fn <- dir(dr);
id <- toupper(sub('.pathview.png', '', fn));
fn <- paste(dr, fn, sep='/');
fn[1:2]
ph <- names(pth);
names(ph) <- unlist(pth);
ph[1:2]
length(ph)
nm <- names(cmp)[as.integer(c)];
dr <- paste('kegg/map', nm, sep='/');
fn <- dir(dr);
id <- toupper(sub('.pathview.png', '', fn));
fn <- paste(dr, fn, sep='/');
ph <- names(pth);
names(ph) <- unlist(pth);
names(fn) <- ph[id];
fn[1:2]
nm <- names(cmp)[as.integer(c)];
dr <- paste('kegg/map', nm, sep='/');
fn <- dir(dr);
id <- toupper(sub('.pathview.png', '', fn));
fn <- paste(dr, fn, sep='/');
ph <- names(pth);
names(ph) <- unlist(pth);
names(fn) <- ph[id];
fn <- as.list(c(''='', fn));
length(fn)
fn[1:2]
fn <- c('', fn)
fn[1:2]
nm <- names(cmp)[as.integer(c)];
dr <- paste('kegg/map', nm, sep='/');
fn <- dir(dr);
id <- toupper(sub('.pathview.png', '', fn));
fn <- paste(dr, fn, sep='/');
ph <- names(pth);
names(ph) <- unlist(pth);
names(fn) <- ph[id];
fn <- as.list(c('', fn));
fn[1:2]
names(fn)[1:2]
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
?renderImage
runApp()
runApp()
dir()
runApp()
runApp()
runApp()
?navbarPage
runApp()
runApp()
?
shinytheme
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
q()
